import PersonalAccessToken from './assets/personal-access-token.png';

# Authenticating your CLI (login)

## Login

<details>
  <summary>1. If you use your email + password in the browser, login with your email and password.</summary>
  To login to your Bigbytes instance run the following command and provide your login email and password:

```shell
bigbytes login https://{{ bigbytes_domain }}
```

where `{{ bigbytes_domain }}` is the address for your running Bigbytes instance. For example Bigbytes
cloud users in the US would type `bigbytes login https://app.bigbytes.cloud` if you're in Europe you'd type
`bigbytes login https://eu1.bigbytes.cloud`.

</details>

<details>
  <summary>2. If you use single sign-on (SSO) in the browser, login with a personal access token.</summary>
  First, you'll need to create a new personal access token in the UI by going to Settings > Personal Access Tokens. 
  You can't use an existing personal access token! You have to create a new one just for yourself.

{' '}

<img
  src={PersonalAccessToken}
  width="1304"
  height="517"
  style={{ display: 'block', margin: '0 auto 20px auto' }}
/>

Then, run the following command in your project:

```shell
bigbytes login https://{{ bigbytes_domain }} --token
```

where `https://my-bigbytes.domain.com` is the address for your running Bigbytes instance. For example Bigbytes
cloud users in the US would type `bigbytes login https://app.bigbytes.cloud` if you're in Europe you'd type
`bigbytes login https://eu1.bigbytes.cloud`.

</details>

<details>
  <summary>3. If you're running in a CI/CD pipeline, login with environment variables</summary>

You can use the following environment variables to authenticate yourself on each command:

- **BIGBYTES_API_KEY** a personal access token you can generate in the app under the user settings
- **BIGBYTES_URL** address for your running Bigbytes instance
- **BIGBYTES_PROXY_AUTHORIZATION** if your Bigbytes instance is behind a proxy like [Cloud IAP](https://cloud.google.com/iap) you can set here `Proxy-Authentication` header value

Example:

```shell
BIGBYTES_API_KEY=946fedb74003405646867dcacf1ad345 BIGBYTES_URL="https://{{ bigbytes_domain }}" BIGBYTES_PROXY_AUTHORIZATION="Bearer <JWT_TOKEN>" bigbytes preview
```

Where `{{ bigbytes_domain }}` is your domain. For Bigbytes Cloud users use `https://app.bigbytes.cloud`

</details>

## Set active project

When you login you'll be asked to set an active project.

Your active project is just the one that you're working on/developing in. Your organization might just have one project, so that makes your decision easy!

You can change your active project by running:

```shell
bigbytes config set-project
```

Or you can use the `BIGBYTES_PROJECT` environment variable to indicate what project UUID the command should use.

Example:

```shell
BIGBYTES_PROJECT="3675b69e-8324-4110-bdca-059031aa8da3" bigbytes deploy
```

## Now that you've logged in, you're ready to use the CLI!

You can see all of the actions available on the CLI by typing this in your terminal:

```shell
bigbytes
```

Some of our favourites are:

- [Automatically generating .yml for your dbt models using `bigbytes generate`](/guides/cli/how-to-auto-generate-schema-files.mdx)
- [Testing your changes with developer previews using `bigbytes preview`](/guides/cli/how-to-use-bigbytes-preview.mdx)
- [Deploying your changes to production using `bigbytes deploy`](/guides/cli/how-to-use-bigbytes-deploy.mdx)
